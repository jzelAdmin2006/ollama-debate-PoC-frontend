<form (ngSubmit)="submitDebate()">
  <div style="display: flex; align-items: center">
    <span>topic / question:</span>
    <input
      [(ngModel)]="input"
      [disabled]="loading"
      name="input"
      placeholder='e.g., "abortion"'
      type="text"
    />
  </div>
  <div style="display: flex; align-items: center">
    <span>number of exchanges:</span>
    <input
      [(ngModel)]="exchanges"
      [disabled]="loading"
      name="exchanges"
      placeholder="e.g., 2"
      type="number"
    />
  </div>
  <button [disabled]="loading" type="submit">Start Debate</button>
  <div *ngIf="loading" class="loader"></div>
</form>

<div *ngIf="debateResponses.length">
  <div
    *ngFor="let response of debateResponses"
    [ngClass]="{
      'conservative-response': response.debater === 'conservative',
      'liberal-response': response.debater === 'liberal',
    }"
    class="response"
  >
    <span class="debater-name">
      <img
        *ngIf="response.debater === 'conservative'"
        alt="Conservative"
        height="88"
        ngSrc="assets/images/republican.svg"
        width="100"
      />
      <img
        *ngIf="response.debater === 'liberal'"
        alt="Liberal"
        height="100"
        ngSrc="assets/images/democratic.svg"
        width="100"
      />
    </span>
    <div
      [innerHTML]="response.response | markdown | async"
      class="debate-text"
    ></div>
  </div>
</div>
